# 🎯 핵심 키워드

- 외래키
- 기본키
- ER 다이어그램
- 복합 키
- 연관관계
- 정규화
- 반 정규화
---
### **외래키**

- 한 테이블의 컬럼이 다른 테이블의 Unique한 Key(보통 기본키)를 참조
- 테이블 간 연관관계를 나타냄
- Nullable

**특징**
- 참조 데이터가 삭제되거나, 수정 발생 시 연관된 테이블의 데이터를 함께 수정가능
    - ex. cascade
- 연관된 테이블에 없는 데이터가 입력되는 것을 방지
    - 참조 무결성

> 참고: 외래키로 인한 성능저하로, 현업에서는 외래키를 사용하지 않는 경우도 있다.


---
### **기본키**

- 각 행에서 Unique 하게 식별할 수 있는 값
- Not Null
- 주로 인조키를 만들어서 사용

- --
### **ER 다이어그램**

- 데이터베이스 설계 시 사전에 그리는 diagram
- 실제 관계형 데이터베이스의 청사진

**구성요소**
- **entity**
    - 테이블에 대응
- **attritbute**
    - 테이블 내의 컬럼에 대응
- **relationship**
    - 엔터티 간 연관성
    - entity 간 상호작용

---
### 복합 키
- 두 개 이상의 컬럼을 조합한 **고유 식별자**
- 하나의 컬럼만으로 고유성을 보장 못할 때 사용 가능

----
### **연관관계**
- 테이블 간 상호작용을 정의
- 주로 외래키를 통해 구현

**종류**
- **1:1**
    - 한 엔터티가 다른 하나의 엔터티만을 가질 때
    - 하나의 테이블을 골라서 외래키 설정

- **1:N**
    - 한 엔터티가 다른 엔터티를 여러 개 가질 때
    - 하나의 테이블을 골라서 외래키 설정

- **N:M**
    - 하나의 엔터티는 다른 엔터티를 여러개 가질 수 있고, 그의 역도 존재할 때
    - 보통 새로운 연관관계 테이블을 생성하여 두 개의 1:N 관계로 풀어낸다.

**연관관계 관리 종류**
- 단방향 연관관계
- 양방향 연관관계

---
### **정규화**

- **목적**
    - 중복 제거
        - 중복이 있으면, 수정 시 일관성있는 데이터 유지하기 어려움
    - 데이터 무결성 유지
        - 데이터 변경 시 발생하는 이상 현상을 방지

- **이상 현상**
    - 보통 데이터의 중복으로 발생
    - 삽입, 갱신, 삭제 시 정규화되지 않은 데이터로 인해 발생하는 의도치 않은 상황을 의미

- **단계**
    - **1NF**
        - 각 컬럼이 더 이상 분해되지 않음
    - **2NF**
        - 1NF 만족
        - 부분 함수 종속성을 제거
    - **3NF**
        - 2NF 만족
        - 이행적 종속성을 제거
        - 기본 키가 아닌 컬럼이 기본 키가 아닌 컬럼에 종속되지 않아야한다.
    - **BCNF**
        - 3NF 만족
        - 후보키에 의한 함수 종속성 제거

> 참고: **부분함수 종속성**
> 기본키의 일부에 종속되는 컬럼이 있는 상황

> 참고: **이행적 종속성**
> 기본키가 아닌 속성이 다른 속성에 종속성을 가질 때

- **주의사항**
    - 지나친 정규화는 Join으로 인한 복잡한 쿼리가 필요하고, 성능저하로 이어짐
    - 따라서 조회 성능을 향상 시키기 위해 반정규화가 가능

---

### **반정규화**
- 정규화된 데이터베이스에서 복잡한 Join 연산으로 인해 성능저하 시 고려
- 테이블 병합
- 컬럼으로 계산된 값 및 중복된 값을 추가

**목적**
- Query 성능 최적화


**고려사항**
- 데이터 중복 및 이상현상 발생 가능